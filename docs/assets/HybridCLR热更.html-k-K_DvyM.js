import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as t,o as e}from"./app-DJxM9ZWL.js";const l="/assets/image-25-C4GvOCeq.png",n="/assets/image-26-OD9wx5Dy.png",h="/assets/image-27-CDrugSnP.png",p="/assets/image-28-C1hGHbtB.png",r={};function d(k,i){return e(),a("div",null,i[0]||(i[0]=[t('<h2 id="支持unity版本" tabindex="-1"><a class="header-anchor" href="#支持unity版本"><span>支持unity版本</span></a></h2><ul><li>2019.4.40、2020.3.26+、 2021.3.0+、2022.3.0+</li></ul><h2 id="使用步骤" tabindex="-1"><a class="header-anchor" href="#使用步骤"><span>使用步骤</span></a></h2><h3 id="安装il2cpp" tabindex="-1"><a class="header-anchor" href="#安装il2cpp"><span>安装IL2CPP</span></a></h3><figure><img src="'+l+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h3 id="安装-com-code-philosophy-hybridclr-包" tabindex="-1"><a class="header-anchor" href="#安装-com-code-philosophy-hybridclr-包"><span>安装 com.code-philosophy.hybridclr 包</span></a></h3><ul><li>https://gitee.com/focus-creative-games/hybridclr_unity.git 或 https://github.com/focus-creative-games/hybridclr_unity.git <img src="'+n+'" alt="alt text" loading="lazy"></li></ul><h3 id="初始化-com-code-philosophy-hybridclr" tabindex="-1"><a class="header-anchor" href="#初始化-com-code-philosophy-hybridclr"><span>初始化 com.code-philosophy.hybridclr</span></a></h3><ul><li>打开菜单HybridCLR/Installer...</li></ul><h3 id="配置hybridclr" tabindex="-1"><a class="header-anchor" href="#配置hybridclr"><span>配置HybridCLR</span></a></h3><figure><img src="'+h+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h3 id="配置playersettings" tabindex="-1"><a class="header-anchor" href="#配置playersettings"><span>配置PlayerSettings</span></a></h3><figure><img src="'+p+`" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h3 id="调用热更新代码" tabindex="-1"><a class="header-anchor" href="#调用热更新代码"><span>调用热更新代码</span></a></h3><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // Editor环境下，HotUpdate.dll.bytes已经被自动加载，不需要加载，重复加载反而会出问题。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> !</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">UNITY_EDITOR</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hotUpdateAss</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Load</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ReadAllBytes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$&quot;{</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Application</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">streamingAssetsPath</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">}/HotUpdate.dll.bytes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // Editor下无需加载，直接查找获得HotUpdate程序集</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hotUpdateAss</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">AppDomain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CurrentDomain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetAssemblies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">First</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;HotUpdate&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Type</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> hotUpdateAss</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetType</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetMethod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Run&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="打包运行" tabindex="-1"><a class="header-anchor" href="#打包运行"><span>打包运行</span></a></h3><ul><li>运行菜单 HybridCLR/Generate/All 进行必要的生成操作。这一步不可遗漏!!!</li><li>将{proj}/HybridCLRData/HotUpdateDlls/StandaloneWindows64(MacOS下为StandaloneMacXxx)目录下的HotUpdate.dll复制到Assets/StreamingAssets/HotUpdate.dll.bytes，注意，要加.bytes后缀！！！</li><li>打开Build Settings对话框，点击Build And Run，打包并且运行热更新示例工程。</li></ul>`,17)]))}const y=s(r,[["render",d],["__file","HybridCLR热更.html.vue"]]),g=JSON.parse('{"path":"/posts/%E6%B8%B8%E6%88%8F/Unity/HybridCLR%E7%83%AD%E6%9B%B4.html","title":"HybridCLR热更","lang":"zh-CN","frontmatter":{"title":"HybridCLR热更","category":["热更C#"],"date":"2024-04-26T23:47:00.000Z","description":"支持unity版本 2019.4.40、2020.3.26+、 2021.3.0+、2022.3.0+ 使用步骤 安装IL2CPP alt textalt text 安装 com.code-philosophy.hybridclr 包 https://gitee.com/focus-creative-games/hybridclr_unity.git ...","head":[["meta",{"property":"og:url","content":"https://blog.vipfreevpn.top/posts/%E6%B8%B8%E6%88%8F/Unity/HybridCLR%E7%83%AD%E6%9B%B4.html"}],["meta",{"property":"og:site_name","content":"博客"}],["meta",{"property":"og:title","content":"HybridCLR热更"}],["meta",{"property":"og:description","content":"支持unity版本 2019.4.40、2020.3.26+、 2021.3.0+、2022.3.0+ 使用步骤 安装IL2CPP alt textalt text 安装 com.code-philosophy.hybridclr 包 https://gitee.com/focus-creative-games/hybridclr_unity.git ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T07:31:08.000Z"}],["meta",{"property":"article:published_time","content":"2024-04-26T23:47:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T07:31:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"HybridCLR热更\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-26T23:47:00.000Z\\",\\"dateModified\\":\\"2024-04-27T07:31:08.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"HideOne\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"支持unity版本","slug":"支持unity版本","link":"#支持unity版本","children":[]},{"level":2,"title":"使用步骤","slug":"使用步骤","link":"#使用步骤","children":[{"level":3,"title":"安装IL2CPP","slug":"安装il2cpp","link":"#安装il2cpp","children":[]},{"level":3,"title":"安装 com.code-philosophy.hybridclr 包","slug":"安装-com-code-philosophy-hybridclr-包","link":"#安装-com-code-philosophy-hybridclr-包","children":[]},{"level":3,"title":"初始化 com.code-philosophy.hybridclr","slug":"初始化-com-code-philosophy-hybridclr","link":"#初始化-com-code-philosophy-hybridclr","children":[]},{"level":3,"title":"配置HybridCLR","slug":"配置hybridclr","link":"#配置hybridclr","children":[]},{"level":3,"title":"配置PlayerSettings","slug":"配置playersettings","link":"#配置playersettings","children":[]},{"level":3,"title":"调用热更新代码","slug":"调用热更新代码","link":"#调用热更新代码","children":[]},{"level":3,"title":"打包运行","slug":"打包运行","link":"#打包运行","children":[]}]}],"git":{"createdTime":1714203068000,"updatedTime":1714203068000,"contributors":[{"name":"HideOne","email":"844085696@qq.com","commits":1}]},"readingTime":{"minutes":0.77,"words":232},"filePathRelative":"posts/游戏/Unity/HybridCLR热更.md","localizedDate":"2024年4月27日","excerpt":"<h2>支持unity版本</h2>\\n<ul>\\n<li>2019.4.40、2020.3.26+、 2021.3.0+、2022.3.0+</li>\\n</ul>\\n<h2>使用步骤</h2>\\n<h3>安装IL2CPP</h3>\\n<figure><figcaption>alt text</figcaption></figure>\\n<h3>安装 com.code-philosophy.hybridclr 包</h3>\\n<ul>\\n<li>https://gitee.com/focus-creative-games/hybridclr_unity.git 或 https://github.com/focus-creative-games/hybridclr_unity.git\\n</li>\\n</ul>","autoDesc":true}');export{y as comp,g as data};
