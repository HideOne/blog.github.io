import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as t,o as e}from"./app-Cv2x44EC.js";const n="/assets/image-26-D-cCuW4T.png",l="/assets/image-27-1E307Vo9.png",h={};function d(r,i){return e(),a("div",null,i[0]||(i[0]=[t(`<h2 id="cocos-shader组成" tabindex="-1"><a class="header-anchor" href="#cocos-shader组成"><span>Cocos Shader组成：</span></a></h2><ul><li>CCEffect：用于声明渲染技术（Technique）、渲染过程（Pass）、渲染状态、材质参数等属性。</li><li>CCProgram：用于声明顶点着色器（Vertex Shader）和片元着色器（Fragment Shader）代码片段。</li></ul><h3 id="cceffect" tabindex="-1"><a class="header-anchor" href="#cceffect"><span>CCEffect</span></a></h3><p>CCEffect 包裹的部分是由 YAML 语法</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">CCEffect %{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  techniques</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">opaque</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 定义一个不透明的渲染技术</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    passes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">vert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">vs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">entry</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 选择一个 CCProgram 声明的顶点着色器 ‘vs’，入口函数是 ‘entry’</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      frag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">entry</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 选择一个 CCProgram 声明的片元着色器 ‘fs’，入口函数是 ‘entry’</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        mainTexture</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">grey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 着色器中需要同步定义一个 ‘uniform mainTexture’，该属性可在编辑器的属性检查器中进行配置</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        colorScale</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">colorScaleAndCutoff.xyz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 基于 ‘target’ 属性配置机制，着色器中需要同步定义一个 ‘uniform colorScaleAndCutoff’，并选取它的 x、y、z 分量填充 ‘colorScale’ 设置的数据</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      depthStencilState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 配置深度测试、模板测试和写入状态</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        depthTest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        depthWrite</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    ...</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}%</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ccprogram" tabindex="-1"><a class="header-anchor" href="#ccprogram"><span>CCProgram</span></a></h3><div class="language-glsl line-numbers-mode" data-highlighter="shiki" data-ext="glsl" data-title="glsl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CCProgram shader</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">name </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">required: precision settings</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">optional: include</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">optional: ubo</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">optional: custom attribute</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">optional: </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  vec4 </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 需要返回一个 vec4 类型数据</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">%</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="内置变量" tabindex="-1"><a class="header-anchor" href="#内置变量"><span>内置变量</span></a></h2><h3 id="cc-local-chunk" tabindex="-1"><a class="header-anchor" href="#cc-local-chunk"><span>cc-local.chunk</span></a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>cc_matWorld</td><td>mat4</td><td>模型空间转世界空间矩阵</td></tr><tr><td>cc_matWorldIT</td><td>mat4</td><td>模型空间转世界空间逆转置矩阵</td></tr></tbody></table><h3 id="cc-global" tabindex="-1"><a class="header-anchor" href="#cc-global"><span>cc-global:</span></a></h3><ul><li>#include &lt;builtin/uniforms/cc-global&gt;</li></ul><table><thead><tr><th>Name</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>cc_time</td><td>vec4</td><td>x：游戏运行时间（秒）y：帧时间（秒）z：游戏运行帧数 w：未使用</td></tr><tr><td>cc_screenSize</td><td>vec4</td><td>xy：屏幕尺寸 zw：屏幕尺寸倒数</td></tr><tr><td>cc_screenScale</td><td>vec4</td><td>xy：屏幕缩放 zw：屏幕缩放倒数</td></tr><tr><td>cc_nativeSize</td><td>vec4</td><td>xy：实际着色缓冲的尺寸 zw：实际着色缓冲的尺寸倒数</td></tr><tr><td>cc_matView</td><td>mat4</td><td>视图矩阵</td></tr><tr><td>cc_matViewInv</td><td>mat4</td><td>视图逆矩阵</td></tr><tr><td>cc_matProj</td><td>mat4</td><td>投影矩阵</td></tr><tr><td>cc_matProjInv</td><td>mat4</td><td>投影逆矩阵</td></tr><tr><td>cc_matViewProj</td><td>mat4</td><td>视图投影矩阵</td></tr><tr><td>cc_matViewProjInv</td><td>mat4</td><td>视图投影逆矩阵</td></tr><tr><td>cc_cameraPos</td><td>vec4</td><td>xyz：相机位置 w：combineSignY</td></tr><tr><td>cc_exposure</td><td>vec4</td><td>x：相机曝光 y：相机曝光倒数 z：是否启用 HDR w：HDR 转 LDR 缩放参数</td></tr><tr><td>cc_mainLitDir</td><td>vec4</td><td>xyz：主方向光源方向 w：是否启用阴影</td></tr><tr><td>cc_mainLitColor</td><td>vec4</td><td>xyz：主方向光颜色 w：主方向光强度</td></tr><tr><td>cc_ambientSky</td><td>vec4</td><td>xyz：天空颜色 w：亮度</td></tr><tr><td>cc_ambientGround</td><td>vec4</td><td>xyz：地面反射光颜色 w：环境贴图 Mipmap 等级</td></tr></tbody></table><h3 id="cc-environment-chunk" tabindex="-1"><a class="header-anchor" href="#cc-environment-chunk"><span>cc-environment.chunk</span></a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>cc_environment</td><td>samplerCube</td><td>IBL 环境贴图</td></tr></tbody></table><h3 id="cc-forward-light-chunk" tabindex="-1"><a class="header-anchor" href="#cc-forward-light-chunk"><span>cc-forward-light.chunk</span></a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>cc_sphereLitPos[MAX_LIGHTS]</td><td>vec4</td><td>xyz：球面光位置</td></tr><tr><td>cc_sphereLitSizeRange[MAX_LIGHTS]</td><td>vec4</td><td>x：球光尺寸 y：球光范围</td></tr><tr><td>cc_sphereLitColor[MAX_LIGHTS]</td><td>vec4</td><td>xyz：球光颜色 w：球光强度</td></tr><tr><td>cc_spotLitPos[MAX_LIGHTS]</td><td>vec4</td><td>xyz：聚光灯位置</td></tr><tr><td>cc_spotLitSizeRangeAngle[MAX_LIGHTS]</td><td>vec4</td><td>x：聚光灯尺寸 y：聚光灯范围 z：聚光灯角度</td></tr><tr><td>cc_spotLitDir[MAX_LIGHTS]</td><td>vec4</td><td>xyz：聚光灯方向</td></tr><tr><td>cc_spotLitColor[MAX_LIGHTS]</td><td>vec4</td><td>xyz：聚光灯颜色 w：聚光灯强度</td></tr></tbody></table><h3 id="cc-shadow-chunk" tabindex="-1"><a class="header-anchor" href="#cc-shadow-chunk"><span>cc-shadow.chunk</span></a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>cc_matLightPlaneProj</td><td>mat4</td><td>平面阴影的变换矩阵</td></tr><tr><td>cc_shadowColor</td><td>vec4</td><td>阴影颜色</td></tr></tbody></table><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ul><li>在 Cocos Creator 中规定 shader 的所有非 sampler 的 uniform 都应该以 block 形式声明</li></ul><div class="language-glsl line-numbers-mode" data-highlighter="shiki" data-ext="glsl" data-title="glsl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 普通 uniform 声明</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">uniform</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dissolveThreshold;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// UBO 形式声明</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">uniform</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Dissolve{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dissolveThreshold;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="坐标变换" tabindex="-1"><a class="header-anchor" href="#坐标变换"><span>坐标变换</span></a></h2><figure><img src="`+n+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><h2 id="法线变换" tabindex="-1"><a class="header-anchor" href="#法线变换"><span>法线变换</span></a></h2><ul><li>注意：法线变换需要用逆矩阵 因为模型有缩放的话 用视图矩阵转化 会导致法线不再垂直 <img src="'+l+'" alt="alt text" loading="lazy"></li></ul><h2 id="shader-资源" tabindex="-1"><a class="header-anchor" href="#shader-资源"><span>shader 资源</span></a></h2><p><a href="./shaderEffect/dissolve2d.effect">2d消融shader</a><a href="./shaderEffect/dissolve3d.effect">3d消融shader</a><a href="./shaderEffect/edgeCheck.effect">边缘检测</a><a href="./shaderEffect/edgeLight.effect">边缘发光</a></p>',28)]))}const c=s(h,[["render",d],["__file","CocosShader.html.vue"]]),o=JSON.parse('{"path":"/posts/%E6%B8%B8%E6%88%8F/Shader/CocosShader.html","title":"Shader","lang":"zh-CN","frontmatter":{"title":"Shader","category":["游戏"],"date":"2024-01-05T14:16:00.000Z","headerDepth":2,"description":"Cocos Shader组成： CCEffect：用于声明渲染技术（Technique）、渲染过程（Pass）、渲染状态、材质参数等属性。 CCProgram：用于声明顶点着色器（Vertex Shader）和片元着色器（Fragment Shader）代码片段。 CCEffect CCEffect 包裹的部分是由 YAML 语法 CCProgram ...","head":[["meta",{"property":"og:url","content":"https://blog.vipfreevpn.top/posts/%E6%B8%B8%E6%88%8F/Shader/CocosShader.html"}],["meta",{"property":"og:site_name","content":"博客"}],["meta",{"property":"og:title","content":"Shader"}],["meta",{"property":"og:description","content":"Cocos Shader组成： CCEffect：用于声明渲染技术（Technique）、渲染过程（Pass）、渲染状态、材质参数等属性。 CCProgram：用于声明顶点着色器（Vertex Shader）和片元着色器（Fragment Shader）代码片段。 CCEffect CCEffect 包裹的部分是由 YAML 语法 CCProgram ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-29T15:19:00.000Z"}],["meta",{"property":"article:published_time","content":"2024-01-05T14:16:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-29T15:19:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Shader\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-05T14:16:00.000Z\\",\\"dateModified\\":\\"2024-07-29T15:19:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"HideOne\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"Cocos Shader组成：","slug":"cocos-shader组成","link":"#cocos-shader组成","children":[{"level":3,"title":"CCEffect","slug":"cceffect","link":"#cceffect","children":[]},{"level":3,"title":"CCProgram","slug":"ccprogram","link":"#ccprogram","children":[]}]},{"level":2,"title":"内置变量","slug":"内置变量","link":"#内置变量","children":[{"level":3,"title":"cc-local.chunk","slug":"cc-local-chunk","link":"#cc-local-chunk","children":[]},{"level":3,"title":"cc-global:","slug":"cc-global","link":"#cc-global","children":[]},{"level":3,"title":"cc-environment.chunk","slug":"cc-environment-chunk","link":"#cc-environment-chunk","children":[]},{"level":3,"title":"cc-forward-light.chunk","slug":"cc-forward-light-chunk","link":"#cc-forward-light-chunk","children":[]},{"level":3,"title":"cc-shadow.chunk","slug":"cc-shadow-chunk","link":"#cc-shadow-chunk","children":[]}]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":2,"title":"坐标变换","slug":"坐标变换","link":"#坐标变换","children":[]},{"level":2,"title":"法线变换","slug":"法线变换","link":"#法线变换","children":[]},{"level":2,"title":"shader 资源","slug":"shader-资源","link":"#shader-资源","children":[]}],"git":{"createdTime":1704701581000,"updatedTime":1722266340000,"contributors":[{"name":"HideOne","email":"844085696@qq.com","commits":7}]},"readingTime":{"minutes":2.66,"words":798},"filePathRelative":"posts/游戏/Shader/CocosShader.md","localizedDate":"2024年1月5日","excerpt":"<h2>Cocos Shader组成：</h2>\\n<ul>\\n<li>CCEffect：用于声明渲染技术（Technique）、渲染过程（Pass）、渲染状态、材质参数等属性。</li>\\n<li>CCProgram：用于声明顶点着色器（Vertex Shader）和片元着色器（Fragment Shader）代码片段。</li>\\n</ul>\\n<h3>CCEffect</h3>\\n<p>CCEffect 包裹的部分是由 YAML 语法</p>\\n<div class=\\"language-yaml line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"yaml\\" data-title=\\"yaml\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">CCEffect %{</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">  techniques</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  - </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">opaque</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"> # 定义一个不透明的渲染技术</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">    passes</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    - </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">vert</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">vs</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">entry</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"> # 选择一个 CCProgram 声明的顶点着色器 ‘vs’，入口函数是 ‘entry’</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">      frag</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">fs</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">entry</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"> # 选择一个 CCProgram 声明的片元着色器 ‘fs’，入口函数是 ‘entry’</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">      properties</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">        mainTexture</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: { </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">value</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">grey</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> } </span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 着色器中需要同步定义一个 ‘uniform mainTexture’，该属性可在编辑器的属性检查器中进行配置</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">        colorScale</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: { </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">value</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: [</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">1</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">, </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">1</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">, </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">1</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">], </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">target</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">colorScaleAndCutoff.xyz</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> } </span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 基于 ‘target’ 属性配置机制，着色器中需要同步定义一个 ‘uniform colorScaleAndCutoff’，并选取它的 x、y、z 分量填充 ‘colorScale’ 设置的数据</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">      depthStencilState</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 配置深度测试、模板测试和写入状态</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">        depthTest</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">true</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">        depthWrite</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">true</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">    ...</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">  ...</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">}%</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{c as comp,o as data};
