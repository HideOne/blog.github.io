---
title: sql注入
category:
  - 网络安全
date: 2023-12-4 14:16:00
headerDepth: 2
---


## 注入原理

### 产生原因
- 没有检查用户参数 到账不合规参数 被当作sql语句执行 
  

### 本质
- 违背了数据与代码分离原则

## 注入常用数据库函数

- user()返回当前使用的用户
- version() 返回当前数据库的版本
- database() 返回当前使用的数据库
- group_concat() 把数据库中的某列数据或某几列数据合并为一个字符串
- @@datadir 数据库路径
- @@version_compile_os 操作系统版本

## 按照执行效果来分类：

1. 基于布尔的盲注：根据页面返回判断条件真假注入。

2. 基于时间的盲注：即不能根据页面返回内容判断任何信息，用条件语句查看时间延迟语句是否执行（即页面返回时间是否增加）来判断。

3. 基于报错的注入：即页面会返回错误信息，或者把注入的语句的结果直接返回在页面中。

- 单引号
- 双引号
- 基于数字型注入
4. 联合查询注入：可以使用union情况下注入。

## SQL注入常见的绕过方法
1. 大小写关键词绕过(UNiOn)
2. 双写关键词绕过(ununionion)
3. 编码绕过（base64、url）
4. 内联注释绕过（/*! Union */）